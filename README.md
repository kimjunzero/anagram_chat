# Raspberry Pi - anagram_chat/I2C_LCD Driver

![image.png](attachment:9371f34f-66a6-404f-bad3-5f43c5e2ff59:image.png)

### 1. κ°μ”

- λ³Έ ν”„λ΅μ νΈλ” **μ• λ„κ·Έλ¨ ν€΄μ¦λ¥Ό TCP/IP κΈ°λ°μ μ±„ν…**μ„ ν†µν•΄ μ‹¤μ‹κ°„μΌλ΅ μ¦κΈΈ μ μλ„λ΅ μ„¤κ³„λ κ²μ„ μ‹μ¤ν….
- **μ„λ²„-ν΄λΌμ΄μ–ΈνΈ κµ¬μ΅°**λ΅ κµ¬μ„±λμ–΄ μμΌλ©°, μ°Έκ°€μκ°€ μ •λ‹µμ„ λ§μ¶ κ²½μ° ν•΄λ‹Ή λ‚΄μ©μ€ **LCD(I2C)** λ””λ°”μ΄μ¤μ— ν‘μ‹λλ‹¤.
- μ»¤λ„ λ¨λ“ λ°©μ‹μΌλ΅ μ§μ ‘ μ‘μ„±ν• `i2c_lcd_driver.c`λ¥Ό ν†µν•΄ LCDλ¥Ό μ μ–΄

---

### 2. μ‹μ¤ν… μ•„ν‚¤ν…μ² / νλ¦„λ„

### π“ μ‹μ¤ν… νλ¦„

- ν΄λΌμ΄μ–ΈνΈ(λ…λ Ήμ–΄ μ…λ ¥) β†’ TCP μ†μΌ“ ν†µμ‹  β†’ server(ν€΄μ¦ μ¶μ  λ° μ‘λ‹µ μ²λ¦¬) β†’ ν€΄μ¦ μ •λ‹µ μ—¬λ¶€ νλ‹¨ β†’ LCD μ¶λ ¥(Kernel Module)

```c
[μ„λ²„ μ‹¤ν–‰]
   |
   β””β”€β–¶ 1. socket() μ†μΌ“ μƒμ„±
   β””β”€β–¶ 2. bind()λ΅ ν¬νΈ μ§€μ •
   β””β”€β–¶ 3. listen()μΌλ΅ λ€κΈ° μ‹μ‘
   β””β”€β–¶ 4. select()λ΅ ν΄λΌμ΄μ–ΈνΈ μ—°κ²° κ°μ‹

[ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰]
   |
   β””β”€β–¶ 1. socket() μƒμ„±
   β””β”€β–¶ 2. connect()λ΅ μ„λ²„ μ ‘μ† μ”μ²­

[μ„λ²„]
   |
   β””β”€β–¶ 5. accept()λ΅ μƒ ν΄λΌμ΄μ–ΈνΈ μλ½
   β””β”€β–¶ 6. ν΄λΌμ΄μ–ΈνΈ μ†μΌ“ κ΄€λ¦¬ λ°°μ—΄μ— λ“±λ΅
   β””β”€β–¶ 7. LCD μ¶λ ¥ λ° λΈλ΅λ“μΊμ¤νΈ

[ν΄λΌμ΄μ–ΈνΈ]
   |
   β””β”€β–¶ 3. μ†΅μ‹ /μμ‹  μ“°λ λ“ μƒμ„±
         β””β”€β–¶ send_msg(): μ‚¬μ©μ μ…λ ¥μ„ μ„λ²„λ΅ λ³΄λƒ„
         β””β”€β–¶ recv_msg(): μ„λ²„ λ©”μ‹μ§€λ¥Ό λ°›μ•„μ„ μ¶λ ¥

[μ„λ²„]
   |
   β””β”€β–¶ 8. select()λ΅ λ©”μ‹μ§€ μμ‹  κ°μ‹
   β””β”€β–¶ 9. ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μΆ…λ¥μ— λ”°λΌ λ¶„κΈ°:
         β”β”€ "!quiz": ν€΄μ¦ μ¶μ 
         β”β”€ "!score": μ μν μ”μ²­
         β”β”€ "!rank" : μμ„ μ”μ²­
         β”β”€ "!exit" : μΆ…λ£ μ”μ²­
         β””β”€ μΌλ° λ©”μ‹μ§€: μ±„ν… λΈλ΅λ“μΊμ¤νΈ

   β””β”€β–¶ 10. LCDμ— λ©”μ‹μ§€ μ¶λ ¥

[ν΄λΌμ΄μ–ΈνΈ μΆ…λ£]
   |
   β””β”€β–¶ μ“°λ λ“ μΆ…λ£ + μ†μΌ“ λ‹«κΈ°

[μ„λ²„]
   |
   β””β”€β–¶ ν΄λΌμ΄μ–ΈνΈ μ—°κ²° ν•΄μ  κ°μ§€
       β””β”€ μ†μΌ“ λ‹«κ³  λ°°μ—΄μ—μ„ μ κ±°
       β””β”€ LCD μΈμ› μ μ—…λ°μ΄νΈ

### 3. ν•µμ‹¬ κΈ°λ¥

1. ν΄λΌμ΄μ–ΈνΈ λ‹¤μ¤‘ μ ‘μ† μ²λ¦¬(λ©€ν‹° μ¤λ λ“ κΈ°λ°)
2. μ‹¤μ‹κ°„ ν€΄μ¦ μ¶μ  λ° μ •λ‹µ ν™•μΈ
3. ν€΄μ¦ μ •λ‹µμ μ΄λ¦„ β†’ LCD μ¶λ ¥
4. λ­ν‚Ή ν™•μΈ λ…λ Ή β†’ LCDμ— μ¶λ ¥
5. μ»¤λ„ λ¨λ“λ΅ I2C LCD μ§μ ‘ μ μ–΄ 

 **3. 1 κ²°κ³Ό ν™”λ©΄**

![image.png](attachment:77e40e8e-6536-448b-87e4-c8fb7ee1fd92:image.png)

(μ‚¬μ§„ λ„£κΈ°)

- μλ™ λ¨λ“

![image.png](attachment:f86a67ad-ef83-420e-9982-6038fa34f1b3:image.png)

- LCD μ¶λ ¥ ν™”λ©΄
- μ„λ²„ μ‹μ‘
    
    ![image.png](attachment:acbf2ee6-e836-417b-90b2-3b4543952c25:image.png)
    
    ![image.png](attachment:acbf2ee6-e836-417b-90b2-3b4543952c25:image.png)
    
- ν„μ¬ Player μ
    
    ![image.png](attachment:a9bd381a-adeb-40a5-be0d-4c1a6505a4d0:image.png)
    
- λ¬Έμ  μ¶λ ¥
    
    ![image.png](attachment:0ae358aa-dc39-49a2-9fbb-47bc8257d80e:image.png)
    
- λ¬Έμ  λ§μ¶ κ²½μ°
    
    ![image.png](attachment:2672d99e-18a1-4941-92c8-6afe025df558:image.png)
    
- ν„μ¬λ­ν‚Ή : !rank
    
    ![image.png](attachment:536c6789-317b-4016-8407-0c00d74b3dd2:image.png)
    
- ν„μ¬ μ°μΉ ν›„λ³΄ : !score, λ§μ¶ λ¬Έμ  μ
    
    ![image.png](attachment:d76f17d7-810a-4882-bde1-60bac3729d09:image.png)
    

- μ‹μ—° μμƒ
    - μλ™ λ¨λ“ κ²μ„
    
    [1.mp4](attachment:f09bea3d-367c-406a-8851-d6709e4addb2:1.mp4)
    
    - μλ™ λ¨λ“ κ²μ„
    
    [5.mp4](attachment:140184e5-7525-479c-b6bc-4bd8e38f0f1b:5.mp4)
    

---

### 4. κΈ°μ  μ¤νƒ

| λ¶„λ¥ | κΈ°μ  |
| --- | --- |
| μ–Έμ–΄ | C(μ»¤λ„ λ° μ‹μ¤ν… ν”„λ΅κ·Έλλ°) |
| ν†µμ‹  | TCP.IP μ†μΌ“(λ©€ν‹° ν΄λΌμ΄μ–ΈνΈ) |
| μ»¤λ„ λ¨λ“ | I2C ν”„λ΅ν† μ½, LCD1602 |
| ν”λ«νΌ | Raspberry Pi(aarch64) |

---

### 6. κ³ μ°° λ° κ°μ„  λ°©ν–¥

- LCD μ»¤μ„ μ΄λ™ λ¬Έμ 
    - `\n` λ¬Έμλ΅ μ¤„λ°”κΏμ„ μ²λ¦¬ν•λ ¤κ³  ν–μΌλ‚, LCDλ” μ§μ ‘ μ»¤μ„ μ£Όμ†λ¥Ό μ§€μ •ν•΄μ•Ό ν•¨
    - `\n` μ…λ ¥ μ‹ μ΄μƒν• μ•„μ¤ν‚¤ μ½”λ“(0x0A)κ°€ μ¶λ ¥λ¨
    - **κ°μ„ **: μ¤„λ³„ μ‹μ‘ μ£Όμ†λ¥Ό λ―Έλ¦¬ μ •μν•κ³ , μ¤„λ°”κΏ μ‹ μ»¤μ„ μ£Όμ†λ¥Ό μ§μ ‘ μ„¤μ •ν•λ” ν•¨μλ΅ μ²λ¦¬
- μλ™ λ¬Έμ  μ¶μ  μ½”λ“ ν†µν•© λ¬Έμ 
    - μλ™/μλ™ λ¨λ“λ΅ μ½”λ“ κ΄€λ¦¬ν–μ–΄μ•Όν•λ”λ° ν•λ‚λ΅ ν•©μΉμ§€ λ»ν•¨, ν•¨μ λ‹¨μ„λ΅ ν†µν•©, μ¬μ‚¬μ© κ°€λ¥ν•λ„λ΅ κµ¬μ΅°ν™” λ³΄μ™„ ν•„μ”
